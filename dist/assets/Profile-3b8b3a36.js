import{r as e,j as a}from"./vendor-react-470eca1f.js";import{H as t}from"./Helmet-2c7e73f6.js";import{N as s}from"./Navbar-fef78110.js";import{e as r,u as l,B as i,C as n,c as o,a as d,b as c,s as m}from"./index-80385b81.js";import{I as x}from"./input-5c98a0d4.js";import{L as u}from"./label-45a837d0.js";import{u as p}from"./useSubscription-4e9a7354.js";import{L as h,c as b}from"./vendor-router-da2b77bd.js";import{g,a as f}from"./profileOrientationService-536adee1.js";import{C as j}from"./CareerDetailModal-cfe2ff9c.js";import{m as v,A as N}from"./vendor-charts-0ffd78b1.js";import{g as y,a as k,C as w,ao as _,m as C,$ as S,A as F,W as A,j as D,aF as E,a4 as P,J as R,G as M,c as I,aG as L,u as z,aH as q,aI as B}from"./vendor-ui-297a683c.js";import"./vendor-supabase-1d8f37f5.js";const $=({userId:t})=>{const[s,r]=e.useState(!0),[l,i]=e.useState(null),[n,o]=e.useState([]),[d,c]=e.useState(null);e.useEffect(()=>{m()},[t]);const m=async()=>{try{r(!0);const e=await g(t);if(i(e),e&&e.careers.length>0){const e=await f(t);o(e.slice(0,3))}}catch(e){}finally{r(!1)}};if(!s&&!l)return a.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-2xl p-6 border-2 border-dashed border-purple-200 dark:border-purple-700",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"bg-purple-100 dark:bg-purple-800/50 p-3 rounded-xl",children:a.jsx(y,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"DÃ©couvrez votre orientation professionnelle"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Vous n'avez pas encore passÃ© le test d'orientation. DÃ©couvrez les mÃ©tiers qui correspondent le mieux Ã  votre profil, vos intÃ©rÃªts et votre contexte."}),a.jsxs(h,{to:"/orientation",className:"inline-flex items-center gap-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-5 py-2.5 rounded-xl font-medium hover:from-purple-700 hover:to-blue-700 transition-all",children:[a.jsx(k,{className:"h-4 w-4"}),"Commencer le test",a.jsx(w,{className:"h-4 w-4"})]})]})]})});if(s)return a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded"}),a.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded"}),a.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded"})]})]})});const x=new Date(l.completedAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"});return a.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-blue-500 p-2.5 rounded-xl",children:a.jsx(_,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Mon Orientation Professionnelle"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(C,{className:"h-4 w-4"}),a.jsxs("span",{children:["Test complÃ©tÃ© le ",x]})]})]})]}),a.jsxs(h,{to:"/orientation",className:"inline-flex items-center gap-2 text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 font-medium text-sm transition-colors",children:[a.jsx(S,{className:"h-4 w-4"}),"Refaire le test"]})]}),a.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/30 dark:to-blue-900/30 rounded-xl p-4 mb-6 border border-purple-100 dark:border-purple-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Meilleur Match"}),a.jsxs("p",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600",children:[l.topScore,"% de compatibilitÃ©"]})]}),a.jsx(F,{className:"h-10 w-10 text-purple-500 dark:text-purple-400"})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Vos 3 meilleures options :"}),n.map((e,t)=>a.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-700 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[a.jsx("div",{className:`\n                flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm\n                ${0===t?"bg-gradient-to-br from-yellow-400 to-orange-500 text-white":""}\n                ${1===t?"bg-gradient-to-br from-gray-300 to-gray-400 text-gray-700":""}\n                ${2===t?"bg-gradient-to-br from-orange-300 to-orange-400 text-white":""}\n              `,children:t+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate",children:e.title}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:e.category})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:[e.match_score,"%"]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"match"})]})]}),a.jsxs("button",{onClick:()=>(e=>{c(e)})(e),className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-medium rounded-lg transition-all group",children:[a.jsx("span",{children:"DÃ©couvrir ce mÃ©tier"}),a.jsx(w,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]},e.slug))]}),a.jsx(h,{to:"/orientation",className:"mt-4 block text-center py-2.5 rounded-xl bg-gray-100 dark:bg-gray-700 hover:bg-purple-100 dark:hover:bg-purple-900/30 text-gray-700 dark:text-gray-300 hover:text-purple-700 dark:hover:text-purple-400 font-medium text-sm transition-all",children:"Voir tous mes rÃ©sultats â†’"}),a.jsx(N,{children:d&&a.jsx(j,{career:d,onClose:()=>{c(null)}})})]})},V=()=>{const{user:h}=r(),{toast:g}=l(),f=b(),[j,N]=e.useState(null),[y,k]=e.useState(!0),[w,_]=e.useState(!1),[S,V]=e.useState({full_name:"",level:"",parcours:"",financial_situation:"",network_support:"",religious_values:"",academic_level:""}),{subscription:G,loading:T}=p(),H=async()=>{if(h){k(!0);const{data:e,error:a}=await m.from("profiles").select("*").eq("id",h.id).single();a?g({title:"Erreur de profil",description:a.message,variant:"destructive"}):(N(e),V({full_name:e.full_name||"",level:e.level||"",parcours:e.parcours||"",financial_situation:e.financial_situation||"",network_support:e.network_support||"",religious_values:e.religious_values||"",academic_level:e.academic_level||""})),k(!1)}};e.useEffect(()=>{H()},[h,g]);const J=e=>{const{name:a,value:t}=e.target;V(e=>({...e,[a]:t}))};if(y)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-purple-50/30 to-slate-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-300 font-semibold",children:"Chargement du profil..."})]})});if(!j)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-purple-50/30 to-slate-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(A,{className:"w-24 h-24 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-300",children:"Profil non trouvÃ©."})]})});const O=G&&G.has_subscription?"trial"===G.status?{color:"from-blue-400 to-cyan-500",icon:R,label:`Essai (${G.days_remaining} jours)`,status:"trial",daysRemaining:G.days_remaining}:"active"===G.status?{color:"from-green-400 to-emerald-500",icon:B,label:"AccÃ¨s illimitÃ©",status:"active",paymentMethod:G.payment_method}:"expired"===G.status?{color:"from-red-400 to-orange-500",icon:R,label:"ExpirÃ©",status:"expired"}:{color:"from-slate-400 to-slate-500",icon:A,label:"Inactif",status:"inactive"}:{color:"from-slate-400 to-slate-500",icon:A,label:"Aucun abonnement",status:"none"};return(()=>{const e={premium:{color:"from-yellow-400 to-orange-500",icon:q,label:"Premium"},standard:{color:"from-blue-400 to-cyan-500",icon:F,label:"Standard"},free:{color:"from-slate-400 to-slate-500",icon:A,label:"Gratuit"}}})(null==j?void 0:j.subscription),a.jsxs(a.Fragment,{children:[a.jsxs(t,{children:[a.jsx("title",{children:"Mon Profil - E-RÃ©ussite"}),a.jsx("meta",{name:"description",content:"GÃ©rez votre profil, abonnement et historique de commandes sur E-RÃ©ussite."})]}),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-purple-50/30 to-slate-50",children:[a.jsx(s,{}),a.jsx("section",{className:"pt-32 pb-20 px-4 bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50 dark:from-slate-800 dark:via-slate-900 dark:to-slate-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex flex-col md:flex-row md:items-center justify-between mb-12 gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold font-heading text-slate-900 dark:text-white mb-2 flex items-center gap-3",children:[a.jsx(D,{className:"w-10 h-10 text-primary dark:text-blue-400"}),"Mon Profil"]}),a.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-lg",children:"GÃ©rez vos informations personnelles et votre activitÃ©."})]}),a.jsx(i,{onClick:()=>_(!w),className:w?"border-red-200 text-red-600 hover:bg-red-50":"bg-gradient-to-r from-primary to-accent text-white shadow-lg",variant:w?"outline":"default",children:w?a.jsx(a.Fragment,{children:"Annuler"}):a.jsxs(a.Fragment,{children:[a.jsx(E,{className:"w-4 h-4 mr-2"})," Modifier le profil"]})})]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsx(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"lg:col-span-1",children:a.jsxs(n,{className:"border-2 border-primary/20 shadow-xl dark:bg-slate-800 dark:border-white/30 dark:shadow-[0_0_40px_rgba(255,255,255,0.5)] overflow-hidden",children:[a.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-accent to-primary p-8 text-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/10"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-32 h-32 mx-auto mb-4 bg-white dark:bg-slate-900 rounded-full flex items-center justify-center shadow-2xl ring-4 ring-white/50 dark:ring-white/20",children:a.jsx(A,{className:"w-16 h-16 text-primary"})}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:j.full_name||"Utilisateur"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-white/90 text-sm mb-4",children:[a.jsx(P,{className:"w-4 h-4"}),a.jsx("span",{children:h.email})]}),!T&&a.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r ${O.color} text-white font-bold shadow-lg`,children:[a.jsx(O.icon,{className:"w-5 h-5"}),O.label]}),T&&a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-slate-400 text-white font-bold shadow-lg",children:[a.jsx(R,{className:"w-5 h-5 animate-spin"}),"Chargement..."]})]})]}),a.jsxs(o,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-700 dark:text-slate-200",children:[a.jsx(C,{className:"w-5 h-5 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Membre depuis"}),a.jsx("p",{className:"font-semibold",children:new Date(h.created_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-slate-700 dark:text-slate-200",children:[a.jsx(M,{className:"w-5 h-5 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Niveau"}),a.jsx("p",{className:"font-semibold",children:j.level||"Non dÃ©fini"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-slate-700 dark:text-slate-200",children:[a.jsx(I,{className:"w-5 h-5 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Parcours"}),a.jsx("p",{className:"font-semibold",children:j.parcours||"Non dÃ©fini"})]})]})]})]})}),a.jsxs(v.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},className:"lg:col-span-2 space-y-8",children:[a.jsxs(n,{className:"border-2 border-slate-200 shadow-lg dark:bg-slate-800 dark:border-white/20 dark:shadow-[0_0_30px_rgba(255,255,255,0.4)] overflow-hidden",children:[a.jsx(d,{className:"bg-gradient-to-r from-primary/10 to-accent/10 dark:from-primary/20 dark:to-accent/20 border-b border-slate-200 dark:border-slate-700",children:a.jsxs(c,{className:"flex items-center gap-2 text-xl dark:text-white",children:[a.jsx(I,{className:"w-6 h-6 text-primary"}),"Informations personnelles"]})}),a.jsx(o,{className:"p-6",children:w?a.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!h)return;const{error:a}=await m.from("profiles").update({full_name:S.full_name,level:S.level,parcours:S.parcours,financial_situation:S.financial_situation,network_support:S.network_support,religious_values:S.religious_values,academic_level:S.academic_level,updated_at:new Date}).eq("id",h.id);a?g({title:"Erreur de mise Ã  jour",description:a.message,variant:"destructive"}):(g({title:"âœ… Profil mis Ã  jour !",description:"Vos informations ont Ã©tÃ© enregistrÃ©es avec succÃ¨s."}),await H(),_(!1))},className:"space-y-5",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(u,{htmlFor:"full_name",className:"text-slate-700 dark:text-slate-200 font-semibold",children:"Nom complet"}),a.jsx(x,{id:"full_name",name:"full_name",value:S.full_name,onChange:J,className:"border-slate-300 focus:border-primary focus:ring-primary",placeholder:"Votre nom complet"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(u,{htmlFor:"level",className:"text-slate-700 dark:text-slate-200 font-semibold",children:"Niveau"}),a.jsx(x,{id:"level",name:"level",value:S.level,onChange:J,className:"border-slate-300 focus:border-primary focus:ring-primary",placeholder:"Ex: Terminale, 3Ã¨me, Licence 2..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(u,{htmlFor:"parcours",className:"text-slate-700 dark:text-slate-200 font-semibold",children:"Parcours"}),a.jsx(x,{id:"parcours",name:"parcours",value:S.parcours,onChange:J,className:"border-slate-300 focus:border-primary focus:ring-primary",placeholder:"Ex: BAC S, BFEM, Licence Informatique..."})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-3",children:"ðŸ“Š Contexte socio-Ã©conomique (pour orientation)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(u,{htmlFor:"academic_level",className:"text-slate-700 dark:text-slate-200",children:"Niveau acadÃ©mique"}),a.jsxs("select",{id:"academic_level",name:"academic_level",value:S.academic_level,onChange:J,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:border-primary focus:ring-primary dark:bg-slate-800 dark:border-slate-600",children:[a.jsx("option",{value:"",children:"SÃ©lectionner..."}),a.jsx("option",{value:"bfem",children:"BFEM"}),a.jsx("option",{value:"bac",children:"BAC"}),a.jsx("option",{value:"bac+2",children:"BAC+2"}),a.jsx("option",{value:"bac+3",children:"BAC+3 (Licence)"}),a.jsx("option",{value:"bac+5",children:"BAC+5 (Master)"}),a.jsx("option",{value:"doctorat",children:"Doctorat"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(u,{htmlFor:"financial_situation",className:"text-slate-700 dark:text-slate-200",children:"Situation financiÃ¨re"}),a.jsxs("select",{id:"financial_situation",name:"financial_situation",value:S.financial_situation,onChange:J,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:border-primary focus:ring-primary dark:bg-slate-800 dark:border-slate-600",children:[a.jsx("option",{value:"",children:"SÃ©lectionner..."}),a.jsx("option",{value:"low",children:"Contraintes Ã©levÃ©es"}),a.jsx("option",{value:"medium",children:"Situation modÃ©rÃ©e"}),a.jsx("option",{value:"high",children:"Ã€ l'aise financiÃ¨rement"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(u,{htmlFor:"network_support",className:"text-slate-700 dark:text-slate-200",children:"RÃ©seau professionnel"}),a.jsxs("select",{id:"network_support",name:"network_support",value:S.network_support,onChange:J,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:border-primary focus:ring-primary dark:bg-slate-800 dark:border-slate-600",children:[a.jsx("option",{value:"",children:"SÃ©lectionner..."}),a.jsx("option",{value:"strong",children:"RÃ©seau fort"}),a.jsx("option",{value:"moderate",children:"RÃ©seau limitÃ©"}),a.jsx("option",{value:"weak",children:"Peu/pas de rÃ©seau"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(u,{htmlFor:"religious_values",className:"text-slate-700 dark:text-slate-200",children:"Importance valeurs religieuses"}),a.jsxs("select",{id:"religious_values",name:"religious_values",value:S.religious_values,onChange:J,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:border-primary focus:ring-primary dark:bg-slate-800 dark:border-slate-600",children:[a.jsx("option",{value:"",children:"SÃ©lectionner..."}),a.jsx("option",{value:"very_important",children:"TrÃ¨s important"}),a.jsx("option",{value:"important",children:"Important"}),a.jsx("option",{value:"neutral",children:"Neutre"}),a.jsx("option",{value:"not_important",children:"Pas important"})]})]})]})]}),a.jsxs(i,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-accent text-white font-semibold shadow-lg hover:shadow-xl transition-all",children:[a.jsx(L,{className:"w-4 h-4 mr-2"})," Enregistrer les modifications"]})]}):a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:"Nom complet"}),a.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:j.full_name||"Non dÃ©fini"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:"Niveau"}),a.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:j.level||"Non dÃ©fini"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:"Parcours"}),a.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:j.parcours||"Non dÃ©fini"})]}),(j.academic_level||j.financial_situation||j.network_support||j.religious_values)&&a.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-3",children:"ðŸ“Š Contexte socio-Ã©conomique"}),a.jsxs("div",{className:"space-y-3",children:[j.academic_level&&a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[a.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Niveau acadÃ©mique"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900 dark:text-white capitalize",children:j.academic_level.replace("+"," +")})]}),j.financial_situation&&a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[a.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Situation financiÃ¨re"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"low"===j.financial_situation?"Contraintes Ã©levÃ©es":"medium"===j.financial_situation?"Situation modÃ©rÃ©e":"Ã€ l'aise"})]}),j.network_support&&a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[a.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:"RÃ©seau professionnel"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"strong"===j.network_support?"Fort":"moderate"===j.network_support?"LimitÃ©":"Faible"})]}),j.religious_values&&a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[a.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Valeurs religieuses"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"very_important"===j.religious_values?"TrÃ¨s important":"important"===j.religious_values?"Important":"neutral"===j.religious_values?"Neutre":"Pas important"})]})]})]})]})})]}),a.jsxs(n,{className:"border-2 border-slate-200 shadow-lg dark:bg-slate-800 dark:border-white/20 dark:shadow-[0_0_30px_rgba(255,255,255,0.4)] overflow-hidden",children:[a.jsx(d,{className:"bg-gradient-to-r from-primary/10 to-accent/10 dark:from-primary/20 dark:to-accent/20 border-b border-slate-200 dark:border-slate-700",children:a.jsxs(c,{className:"flex items-center gap-2 text-xl dark:text-white",children:[a.jsx(z,{className:"w-6 h-6 text-primary"}),"Mon Abonnement"]})}),a.jsx(o,{className:"p-6",children:T?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(R,{className:"w-8 h-8 animate-spin text-primary"})}):G&&G.has_subscription?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl",children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:"Statut"}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full bg-gradient-to-r ${O.color} text-white font-bold text-sm`,children:[a.jsx(O.icon,{className:"w-4 h-4"}),"trial"===G.status?"Essai gratuit":"active"===G.status?"Actif":"expired"===G.status?"ExpirÃ©":"Inactif"]})]}),"trial"===G.status&&null!==G.days_remaining&&a.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border-2 border-blue-200 dark:border-blue-800",children:[a.jsxs("span",{className:"text-slate-700 dark:text-slate-200 font-medium flex items-center gap-2",children:[a.jsx(R,{className:"w-5 h-5 text-blue-600"}),"Jours restants"]}),a.jsx("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:G.days_remaining})]}),G.trial_start_date&&"trial"===G.status&&a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl",children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:"DÃ©but de l'essai"}),a.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:new Date(G.trial_start_date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]}),G.trial_end_date&&"trial"===G.status&&a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl",children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:"Fin de l'essai"}),a.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:new Date(G.trial_end_date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]}),G.subscription_start_date&&"active"===G.status&&a.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border-2 border-green-200 dark:border-green-800",children:[a.jsxs("span",{className:"text-slate-700 dark:text-slate-200 font-medium flex items-center gap-2",children:[a.jsx(B,{className:"w-5 h-5 text-green-600"}),"ActivÃ© le"]}),a.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:new Date(G.subscription_start_date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]}),G.payment_method&&"active"===G.status&&a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl",children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:"Paiement"}),a.jsx("span",{className:"font-semibold text-slate-900 dark:text-white capitalize",children:G.payment_method.replace("_"," ")})]}),"active"===G.status&&a.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl border-2 border-green-200 dark:border-green-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(B,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-green-700 dark:text-green-400",children:"AccÃ¨s illimitÃ© activÃ© !"}),a.jsx("p",{className:"text-sm text-green-600 dark:text-green-500",children:"Profitez de tous les contenus sans limite"})]})]})}),"active"===G.status&&a.jsxs(i,{onClick:()=>f("/payment"),variant:"outline",className:"w-full border-2 border-primary/30 dark:border-primary/50 text-primary dark:text-primary-light hover:bg-primary/5 dark:hover:bg-primary/10 font-semibold mt-4",children:[a.jsx(z,{className:"w-4 h-4 mr-2"}),"GÃ©rer mon abonnement"]}),"trial"===G.status&&a.jsxs(i,{onClick:()=>f("/payment"),className:"w-full bg-gradient-to-r from-primary to-accent text-white font-semibold shadow-lg hover:shadow-xl mt-4",children:[a.jsx(z,{className:"w-4 h-4 mr-2"}),"Payer 1000 FCFA - AccÃ¨s illimitÃ©"]}),"expired"===G.status&&a.jsxs(i,{onClick:()=>f("/payment"),className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white font-semibold shadow-lg hover:shadow-xl mt-4",children:[a.jsx(z,{className:"w-4 h-4 mr-2"}),"RÃ©activer mon accÃ¨s - 1000 FCFA"]})]}):a.jsxs("div",{className:"text-center py-6",children:[a.jsx(q,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:"Vous n'avez pas encore d'abonnement"}),a.jsxs(i,{onClick:()=>f("/payment"),className:"bg-gradient-to-r from-primary to-accent text-white font-semibold shadow-lg hover:shadow-xl",children:[a.jsx(z,{className:"w-4 h-4 mr-2"}),"Souscrire maintenant"]})]})})]}),a.jsx($,{userId:h.id})]})]})]})})]})]})};export{V as default};
