import{r as e,j as s}from"./vendor-react-470eca1f.js";import{H as a}from"./Helmet-2c7e73f6.js";import{c as t,L as r}from"./vendor-router-da2b77bd.js";import{e as l,u as i,C as n,a as o,b as m,f as c,c as d,B as x}from"./index-80385b81.js";import{I as p}from"./input-5c98a0d4.js";import{m as u}from"./vendor-charts-0ffd78b1.js";import{B as j,W as h,a4 as f,aJ as v}from"./vendor-ui-297a683c.js";import"./vendor-supabase-1d8f37f5.js";const b=()=>{const b=t(),{signUp:N}=l(),{toast:y}=i(),[w,g]=e.useState({name:"",email:"",password:"",confirmPassword:""}),[C,k]=e.useState(!1),z=e=>{g({...w,[e.target.name]:e.target.value})};return s.jsxs(s.Fragment,{children:[s.jsxs(a,{children:[s.jsx("title",{children:"Inscription - E-R√©ussite"}),s.jsx("meta",{name:"description",content:"Cr√©ez votre compte E-R√©ussite et commencez votre parcours vers la r√©ussite."})]}),s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-slate-50",children:s.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:[s.jsxs(r,{to:"/",className:"flex items-center justify-center space-x-2 mb-8",children:[s.jsx(j,{className:"w-10 h-10 text-primary"}),s.jsx("span",{className:"text-3xl font-bold font-heading text-primary",children:"E-R√©ussite"})]}),s.jsxs(n,{className:"shadow-lg",children:[s.jsxs(o,{className:"text-center",children:[s.jsx(m,{className:"text-3xl",children:"Cr√©er un compte"}),s.jsx(c,{children:"Rejoignez des milliers d'√©l√®ves et commencez √† apprendre."})]}),s.jsx(d,{children:s.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),w.password!==w.confirmPassword)return void y({title:"Erreur",description:"Les mots de passe ne correspondent pas.",variant:"destructive"});k(!0);const{error:s}=await N(w.email,w.password,{data:{full_name:w.name}});s||(y({title:"Inscription r√©ussie ! üéâ",description:"Veuillez v√©rifier votre email pour confirmer votre compte."}),b("/login")),k(!1)},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-slate-700 dark:text-slate-200 mb-2 font-medium",children:"Nom complet"}),s.jsxs("div",{className:"relative",children:[s.jsx(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsx(p,{type:"text",name:"name",value:w.name,onChange:z,placeholder:"Votre nom",className:"pl-12",required:!0,disabled:C})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-slate-700 dark:text-slate-200 mb-2 font-medium",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsx(p,{type:"email",name:"email",value:w.email,onChange:z,placeholder:"votre@email.com",className:"pl-12",required:!0,disabled:C})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-slate-700 dark:text-slate-200 mb-2 font-medium",children:"Mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(v,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsx(p,{type:"password",name:"password",value:w.password,onChange:z,placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",className:"pl-12",required:!0,disabled:C})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-slate-700 dark:text-slate-200 mb-2 font-medium",children:"Confirmer le mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(v,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsx(p,{type:"password",name:"confirmPassword",value:w.confirmPassword,onChange:z,placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",className:"pl-12",required:!0,disabled:C})]})]}),s.jsx("div",{className:"text-sm text-slate-500",children:s.jsxs("label",{className:"flex items-start",children:[s.jsx("input",{type:"checkbox",className:"mr-2 mt-1 rounded border-slate-300 text-primary focus:ring-primary",required:!0}),s.jsxs("span",{children:["J'accepte les"," ",s.jsx("a",{href:"#",className:"text-primary hover:underline",children:"conditions d'utilisation"}),"."]})]})}),s.jsx(x,{type:"submit",className:"w-full bg-accent text-white hover:bg-accent/90",disabled:C,children:C?"Cr√©ation du compte...":"S'inscrire"}),s.jsxs("p",{className:"text-center text-slate-500",children:["D√©j√† un compte ?"," ",s.jsx(r,{to:"/login",className:"text-primary hover:underline font-semibold",children:"Connectez-vous"})]})]})})]})]})})]})};export{b as default};
