import{r as e,j as s}from"./vendor-react-470eca1f.js";import{H as t}from"./Helmet-2c7e73f6.js";import{L as a}from"./vendor-router-da2b77bd.js";import{u as r,C as i,a as l,b as n,f as o,c,B as m,s as d}from"./index-80385b81.js";import{I as x}from"./input-5c98a0d4.js";import{m as u}from"./vendor-charts-0ffd78b1.js";import{B as p,a4 as j}from"./vendor-ui-297a683c.js";import"./vendor-supabase-1d8f37f5.js";const h=()=>{const{toast:h}=r(),[v,f]=e.useState(""),[b,y]=e.useState(!1),[N,g]=e.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs(t,{children:[s.jsx("title",{children:"Mot de passe oublié - E-Réussite"}),s.jsx("meta",{name:"description",content:"Réinitialisez votre mot de passe E-Réussite."})]}),s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-slate-50",children:s.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:[s.jsxs(a,{to:"/",className:"flex items-center justify-center space-x-2 mb-8",children:[s.jsx(p,{className:"w-10 h-10 text-primary"}),s.jsx("span",{className:"text-3xl font-bold font-heading text-primary",children:"E-Réussite"})]}),s.jsxs(i,{className:"shadow-lg",children:[s.jsxs(l,{className:"text-center",children:[s.jsx(n,{className:"text-3xl",children:"Mot de passe oublié"}),s.jsx(o,{children:"Entrez votre email pour recevoir un lien de réinitialisation."})]}),s.jsx(c,{children:N?s.jsx("div",{className:"text-center text-green-600",children:s.jsxs("p",{children:["Un email a été envoyé à ",s.jsx("strong",{children:v}),". Veuillez suivre les instructions pour réinitialiser votre mot de passe."]})}):s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0);const{error:s}=await d.auth.resetPasswordForEmail(v,{redirectTo:`${window.location.origin}/update-password`});s?h({title:"Erreur",description:s.message,variant:"destructive"}):(h({title:"Email envoyé !",description:"Veuillez consulter votre boîte de réception pour réinitialiser votre mot de passe."}),g(!0)),y(!1)},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-slate-700 mb-2 font-medium",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(j,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsx(x,{type:"email",value:v,onChange:e=>f(e.target.value),placeholder:"votre@email.com",className:"pl-12",required:!0,disabled:b})]})]}),s.jsx(m,{type:"submit",className:"w-full bg-primary text-white hover:bg-primary/90",disabled:b,children:b?"Envoi en cours...":"Envoyer le lien"}),s.jsxs("p",{className:"text-center text-slate-500",children:["Vous vous souvenez de votre mot de passe ?"," ",s.jsx(a,{to:"/login",className:"text-accent hover:underline font-semibold",children:"Se connecter"})]})]})})]})]})})]})};export{h as default};
