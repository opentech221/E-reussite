import{r as e,j as s}from"./vendor-react-470eca1f.js";import{H as r}from"./Helmet-2c7e73f6.js";import{u as i,C as t,a,b as n,c as l,s as c}from"./index-80385b81.js";import{T as d,a as o,b as j,c as h,d as x,e as m}from"./table-dafb922e.js";import"./vendor-supabase-1d8f37f5.js";import"./vendor-ui-297a683c.js";import"./vendor-router-da2b77bd.js";import"./vendor-charts-0ffd78b1.js";const u=()=>{const{toast:u}=i(),[p,f]=e.useState([]),[v,b]=e.useState(!0);return e.useEffect(()=>{(async()=>{const{data:e,error:s}=await c.from("profiles").select("*").order("created_at",{ascending:!1});s?u({title:"Erreur",description:"Impossible de charger les utilisateurs.",variant:"destructive"}):f(e),b(!1)})()},[u]),s.jsxs(s.Fragment,{children:[s.jsx(r,{children:s.jsx("title",{children:"Gestion des Utilisateurs - Admin"})}),s.jsxs("div",{className:"space-y-8",children:[s.jsx("h1",{className:"text-4xl font-bold font-heading",children:"Gestion des Utilisateurs"}),s.jsxs(t,{children:[s.jsx(a,{children:s.jsxs(n,{children:["Liste des Utilisateurs (",p.length,")"]})}),s.jsx(l,{children:v?s.jsx("p",{children:"Chargement..."}):s.jsxs(d,{children:[s.jsx(o,{children:s.jsxs(j,{children:[s.jsx(h,{children:"Nom"}),s.jsx(h,{children:"RÃ´le"}),s.jsx(h,{children:"Niveau"}),s.jsx(h,{children:"Abonnement"}),s.jsx(h,{children:"Inscrit le"})]})}),s.jsx(x,{children:p.map(e=>s.jsxs(j,{children:[s.jsx(m,{className:"font-medium",children:e.full_name||"N/A"}),s.jsx(m,{children:e.role}),s.jsx(m,{children:e.level||"N/A"}),s.jsx(m,{className:"capitalize",children:e.subscription}),s.jsx(m,{children:new Date(e.created_at).toLocaleDateString("fr-FR")})]},e.id))})]})})]})]})]})};export{u as default};
